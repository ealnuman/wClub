[
  {
    "doctype": "Report",
    "report_name": "Class Utilization",
    "ref_doctype": "Class Session",
    "report_type": "Query Report",
    "is_standard": "No",
    "query": "SELECT name as session, dojo, capacity, 0 as attendance_count, 0 as utilization_percent FROM `tabClass Session`;"
  },
  {
    "doctype": "Report",
    "report_name": "Daily Booking & Check-in",
    "ref_doctype": "Booking",
    "report_type": "Query Report",
    "is_standard": "No",
    "query": "SELECT DATE(creation) day, COUNT(*) total_bookings, SUM(CASE WHEN status='Checked-in' THEN 1 ELSE 0 END) checked_in FROM `tabBooking` GROUP BY DATE(creation) ORDER BY day DESC;"
  },
  {
    "doctype": "Report",
    "report_name": "Belt Distribution",
    "ref_doctype": "Member",
    "report_type": "Query Report",
    "is_standard": "No",
    "query": "SELECT COALESCE(current_belt_level,'(None)') belt_level, COUNT(*) members FROM `tabMember` GROUP BY current_belt_level ORDER BY members DESC;"
  },
  {
    "doctype": "Report",
    "report_name": "Attendance Heatmap (Summary)",
    "ref_doctype": "Class Session",
    "report_type": "Query Report",
    "is_standard": "No",
    "query": "SELECT DATE(start) day, HOUR(start) hour, (SELECT COUNT(*) FROM `tabAttendance Entry` ae WHERE ae.parent = cs.name) attendance_count FROM `tabClass Session` cs GROUP BY DATE(start), HOUR(start) ORDER BY day DESC, hour ASC;"
  },
  {
    "doctype": "Report",
    "report_name": "Member List by Belt",
    "ref_doctype": "Member",
    "report_type": "Query Report",
    "is_standard": "No",
    "query": "SELECT COALESCE(current_belt_level,'(None)') belt_level, name, first_name, last_name, email FROM `tabMember` ORDER BY belt_level, first_name;"
  },
  {
    "doctype": "Report",
    "report_name": "Revenue Summary (by Class Type)",
    "ref_doctype": "Booking",
    "report_type": "Query Report",
    "is_standard": "No",
    "query": "SELECT cs.class_type, DATE(b.creation) day, SUM(IFNULL(b.price,0)) revenue FROM `tabBooking` b JOIN `tabClass Session` cs ON cs.name=b.session WHERE b.status!='Cancelled' GROUP BY cs.class_type, DATE(b.creation) ORDER BY day DESC;"
  }
]